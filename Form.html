<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="Style.css" rel="stylesheet" type="text/css">
        <title>Form</title>
    </head>
    <body>
        <form method="get" name="registr">

            <label for="login" > Input login:
                <input type="text" id="login" name="login" placeholder="login" size="10" required> 
            </label><br>

            <label for="password" > Input password:
                <input type="password" id="password" name="pas" placeholder="password" size="10" required> 
            </label><br>

            <label for="email" > Input address:
                <input type="email" id="email" name="email" placeholder="email" size="10" required> 
            </label><br>

            <label for="check"> Receive news:
                <input type="checkbox" id="mailing" name="check" value="true" size="10" checked> 
            </label>

            <br>Gender<br>
            <label for="gender_m"><input type="radio" id="g_m" name="gender" value="m" checked>Man</label><br>
            <label for="gender_w"><input type="radio" id="g_w" name="gender" value="w">Woman</label><br>

            <select name="sity">Change sity:
                <option value="Dub">Dubna </option>
                <option value="Msk">Moscow </option>
                <option value="Tver">Tver </option>
            </select>
            <br>
            <input type="submit" class="htt" value="Push" onclick="Check()">
            <br>
            <input type="reset" name="res" value="Clear">
            <br>
            <img onmouseover="ChangeOver(this)" onmouseout="ChangeOut(this)" name="pic" src="https://www.lifepng.com/wp-content/uploads/2020/11/Plain-Black-Question-Mark-png-hd.png" alt="Cat" width="300" height="300">
            <br>
            <div onclick = "ClickLkm(this)" class = "color" id = "circle"></div>

        </form>
    </body>
</html>
<script>

    function ChangeOver(x) 
    {
        x.src= 'https://i.iscr.ru/2022/03/17/Screenshot_1.png';
    };
 
    function ChangeOut(x) 
    {   
        x.src= 'https://www.lifepng.com/wp-content/uploads/2020/11/Plain-Black-Question-Mark-png-hd.png';
    }

    function ClickLkm(x) 
    {
        x.style.background = "#" + Math.floor(Math.random() * 2 ** 24).toString(16).padStart(6, "0");
    }

    var div = document.getElementById('circle');

    var listener = function(e) 
        {
        div.style.left = e.pageX - 50 + "px";
        div.style.top = e.pageY - 50 + "px";
        };

    circle.addEventListener('mousedown', e => 
    {
           document.addEventListener('mousemove', listener);
    });

    circle.addEventListener('mouseup', e => 
    {
        document.removeEventListener('mousemove', listener);
    });

    function Check()
    {
        login = document.registr.login.value;
        password = document.registr.pas.value;
        email = document.registr.email.value;

        var result = false;

        if (login.toString().length < 3){
            alert("Поле Name должно содержать минимум 4 символа!");
            document.getElementById("login").className = "visibleinitial";

            result = true;
        }
        else{
            document.getElementById("login").className = "visiblenone";
        }

        if (email.toString().length < 7 || !email.toString().includes(".")){
            document.getElementById("email").innerHTML = "Длина почты должна быть не меньше 7!";
            document.getElementById("email").className = "visibleinitial";

            result = true;
        }
        else{
            document.getElementById("email").className = "visiblenone";
        }

        if (password.toString().length < 8){
            document.getElementById("password").innerHTML = "Пароль должен иметь длину не меньше 8 символов!";
            document.getElementById("password").className = "visibleinitial";

            result = true;

        }
        else{
            document.getElementById("password").className = "visiblenone";
        }

        if (result == true) return console.log("Данные из текстовых полей: " +login+" "+pas+" "+email);

        var mailing_console = true;
        if (document.registr.mailing.checked) {
            mailing_console = document.registr.mailing.value;
            console.log("Данные из переключателей: " + mailing_console);
        }
        var mailing = document.registr.mailing.checked;

        for (i=0;i<document.registr.gender.length;i++)
        {
            if (document.registr.gender[i].checked){
                gender = document.registr.gender[i].value;
            }
        }
        console.log("Данные из переключателей: " + gender);

        var sity_en;
        var index;
        index = document.registr.sity.selectedIndex;
        sity_en = document.registr.sity[index].value;
        console.log("Данные из выпадающего списка: " + index + " "+ sity_en);
    }
</script>
